:root {
    --scale-factor: 1.4375; /* 扩大15% */
}

.honor-wall-section {
    /* 原始值乘以 --scale-factor */
    --img-width: calc(150px * var(--scale-factor));
    --img-height: calc(90px * var(--scale-factor));
    --grid-gap: calc(10px * var(--scale-factor));
    --container-padding: calc(15px * var(--scale-factor));
    --num-columns: 5;
    --num-rows: 3;

    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: auto;
    padding: calc(var(--spacing-2xl, 40px) * var(--scale-factor)) 0;
    overflow: hidden;
    font-family: var(--font-family-sans);
    background-color: var(--color-background-secondary); /* 统一背景 */
    width: 100%;
}

/* 标题字体和间距也需要调整 */
.honor-wall-section .section-header h2 {
    font-size: 2.5rem; /* 调整为与其他模块一致 */
    margin-bottom: calc(var(--spacing-md, 16px) * var(--scale-factor));
}

.honor-wall-section .section-header p {
    font-size: calc(1.1rem * var(--scale-factor));
}

.honor-wall-section .container {
    width: 100%;
    max-width: 1200px; /* 根据需要调整最大宽度 */
    margin: 0 auto;
    padding: 0 var(--container-padding);
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.background-blur {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--color-background-secondary);
    /* filter: blur(calc(5px * var(--scale-factor))); */ /* 禁用模糊效果 */
    z-index: -1;
}

.image-grid-container {
    width: 100%; /* 占据父容器的全部宽度 */
    max-width: calc(var(--num-columns) * (var(--img-width) + var(--grid-gap)) - var(--grid-gap) + 2 * var(--container-padding)); /* 限制最大宽度 */
    height: calc(var(--num-rows) * (var(--img-height) + var(--grid-gap)) - var(--grid-gap) + 2 * var(--container-padding));

    border: calc(1px * var(--scale-factor)) solid var(--color-border);
    border-radius: calc(18px * var(--scale-factor));
    overflow: hidden;
    position: relative;
    background-color: var(--color-card);
    backdrop-filter: blur(calc(8px * var(--scale-factor)));
    box-shadow: var(--shadow-lg);
    padding: var(--container-padding);
    margin-top: var(--spacing-lg); /* 调整为更紧凑的间距 */
    margin-left: auto; /* 确保在父容器中居中 */
    margin-right: auto; /* 确保在父容器中居中 */
}

.image-grid {
    display: grid;
    grid-template-rows: repeat(var(--num-rows), var(--img-height));
    grid-auto-flow: column;
    gap: var(--grid-gap);
    position: absolute;
    top: var(--container-padding);
    left: var(--container-padding);
    height: auto;
    box-sizing: border-box;
    will-change: transform;
}

.image-wrapper {
    width: var(--img-width);
    height: var(--img-height);
    overflow: hidden;
    position: relative;
    cursor: pointer;
    transition: box-shadow var(--transition-normal), border-color var(--transition-normal);
    border: calc(1px * var(--scale-factor)) solid var(--color-border);
    border-radius: calc(8px * var(--scale-factor));
    background-color: var(--color-background-secondary);
    box-shadow: var(--shadow-sm);
    display: flex;
    justify-content: center;
    align-items: center;
}

.image-wrapper img {
    max-width: 95%;
    max-height: 95%;
    object-fit: contain;
    display: block;
    border-radius: calc(6px * var(--scale-factor));
    background-color: var(--color-background-secondary);
    animation: pulse 1.5s infinite ease-in-out;
    opacity: 0;
    transition: opacity var(--transition-normal), transform var(--transition-normal);
    will-change: transform, opacity;
}

.image-wrapper img.loaded {
    animation: none;
    opacity: 1;
}

@keyframes pulse {
    0% {
        opacity: 0.6;
    }

    50% {
        opacity: 1;
    }

    100% {
        opacity: 0.6;
    }
}

.image-wrapper.is-hovered {
    overflow: visible;
    z-index: 100;
    box-shadow: var(--shadow-xl);
    border-color: var(--color-primary);
}

.image-wrapper.is-hovered img {
    transform: scale(calc(1.3 * var(--scale-factor)));
}

/* 响应式设计 - 所有尺寸变量也需要按比例缩放 */
@media (max-width: calc(1200px * var(--scale-factor))) {
    .honor-wall-section {
        --num-columns: 4;
    }
}

@media (max-width: calc(992px * var(--scale-factor))) {
    .honor-wall-section {
        --num-columns: 3;
        --img-width: calc(120px * var(--scale-factor));
        --img-height: calc(72px * var(--scale-factor));
    }
}

@media (max-width: calc(768px * var(--scale-factor))) {
    .honor-wall-section {
        --num-columns: 2;
        --img-width: calc(100px * var(--scale-factor));
        --img-height: calc(60px * var(--scale-factor));
        padding: calc(var(--spacing-xl, 20px) * var(--scale-factor)) 0;
    }
    .image-grid-container {
        margin-top: calc(var(--spacing-lg, 16px) * var(--scale-factor));
    }
}

@media (max-width: calc(480px * var(--scale-factor))) {
    .honor-wall-section {
        --num-columns: 1;
        --img-width: calc(180px * var(--scale-factor));
        --img-height: calc(108px * var(--scale-factor));
        padding: calc(var(--spacing-md, 16px) * var(--scale-factor)) 0;
    }
    /* 移除重复的宽度计算，因为已由上层样式处理 */
    /* .image-grid-container 的宽度现在由其父容器和 max-width 控制 */
}
